# Система телеметрии FHSS RX

## Описание
Система телеметрии автоматически собирает данные с датчиков и передаёт их через FHSS канал обратно к передатчику.

## Структура файлов
- `telemetry.h` - заголовочный файл с определениями
- `telemetry.ino` - реализация функций работы с датчиками
- `fhss_RX.ino` - основной файл приёмника с интеграцией телеметрии

## Поддерживаемые датчики
1. **MPU6050** - акселерометр и гироскоп
2. **BMP280** - барометрический датчик давления
3. **VL53L0X** - лазерный дальномер (TOF200C)

## Формат данных
Телеметрия передаётся в формате строки:
```
accel_x:accel_y:accel_z.gyro_x:gyro_y:gyro_z.pressure.distance
```

### Пример:
```
1.23:4.56:7.89.0.12:0.34:0.56.1013.25.1500.0
```

### Расшифровка:
- **Акселерометр**: 1.23:4.56:7.89 (X:Y:Z в м/с²)
- **Гироскоп**: 0.12:0.34:0.56 (X:Y:Z в рад/с)
- **Давление**: 1013.25 (в гПа)
- **Расстояние**: 1500.0 (в мм)

## Настройка пинов
В файле `telemetry.h` настройте пины I2C:
```cpp
#define SDA_PIN 8
#define SCL_PIN 9
```

## Частота обновления
- Данные с датчиков читаются каждые 50мс
- Телеметрия передаётся при каждом получении управляющего пакета
- Максимальная частота передачи телеметрии: 200Hz (каждые 5мс)

## Валидация данных
Система автоматически проверяет корректность данных:
- Акселерометр: -50 до +50 м/с²
- Гироскоп: -5000 до +5000 рад/с
- Давление: 500 до 1500 гПа
- Расстояние: 0 до 2000 мм (-1 для недействительных значений)

## Отладка
При инициализации в Serial Monitor будут выведены сообщения о статусе датчиков:
- `TELEMETRY: MPU6050 found!`
- `TELEMETRY: BMP280 found!`
- `TELEMETRY: VL53L0X found!`
- `TELEMETRY: All sensors initialized successfully!`

## Интеграция
Система автоматически интегрирована в `fhss_RX.ino`:
- Инициализация датчиков в `setup()`
- Чтение данных в `prepareAckTelemetry()`
- Передача через ACK payload
